<!DOCTYPE HTML>
@model CodingChallenge5.Models.Item
@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>
<div class="col-md-12">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Please enter the details below.</h3>
        </div>
        <div class="panel-body">
            <div class="form-group col-md-5">
                <label>Item Name</label>
                <input type="text" name="name" id="name" class="form-control" placeholder="Enter Item Name" required="" />
            </div>
            <div class="form-group col-md-5">
                <label>Item Quantity</label>
                <input type="text" name="quantity" id="quantity" class="form-control" placeholder="Enter Item Address" required="" />
            </div>

            <div class="form-group col-md-1">
                <div style="float: right; display:inline-block;">
                    <input class="btn btn-primary" name="submitButton" id="btnSave" value="Save" type="button">
                </div>
            </div>
        </div>
    </div><hr /><hr/>
    </div>

@section Scripts
{
    <script type="text/javascript">

    $(function () {
        $("#btnSave").click(function () {

            
            var item = {};
            item.ItemName = $("#name").val();
            item.ItemQuantity = $("#quantity").val();
            alert(JSON.stringify(item))
            $.ajax({
                type: "POST",
                url: '@Url.Action("AddItem")',
                data: item,
                //dataType: "json",
                //contentType: "application/json; charset=utf-8",
                success: function () {
                    alert("Data has been added successfully.");
                },
                error: function () {
                    alert("Error while inserting data");
                }
            });
            return false;
        });
    });

    </script>
}
